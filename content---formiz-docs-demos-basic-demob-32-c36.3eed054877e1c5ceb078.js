(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{48:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",function(){return c}),t.d(n,"rightToc",function(){return f}),t.d(n,"default",function(){return p});t(0);var r=t(56),i=t(65),a=t(57);function u(){return(u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function o(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c={id:"basic-demo",title:"Basic Demo"},f=[],s={rightToc:f},l="wrapper";function p(e){var n=e.components,t=o(e,["components"]);return Object(r.b)(l,u({},s,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)(a.c,{mdxType:"WIP"}),Object(r.b)(i.a,{mdxType:"MyForm"}))}p.isMDXComponent=!0},56:function(e,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"b",function(){return l});var r=t(0),i=t.n(r),a=i.a.createContext({}),u=function(e){var n=i.a.useContext(a),t=n;return e&&(t="function"==typeof e?e(n):Object.assign({},n,e)),t},o=function(e){var n=u(e.components);return i.a.createElement(a.Provider,{value:n},e.children)},c="mdxType",f={inlineCode:"code",wrapper:function(e){return i.a.createElement(i.a.Fragment,{},e.children)}},s=function(e){var n=e.components,t=e.mdxType,r=e.originalType,a=e.parentName,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(e,["components","mdxType","originalType","parentName"]),c=u(n);return i.a.createElement(c[a+"."+t]||c[t]||f[t]||r,n?Object.assign({},o,{components:n}):o)};function l(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,u=new Array(a);u[0]=s;var o={};for(var f in n)hasOwnProperty.call(n,f)&&(o[f]=n[f]);o.originalType=e,o[c]="string"==typeof e?e:r,u[1]=o;for(var l=2;l<a;l++)u[l]=t[l];return i.a.createElement.apply(null,u)}return i.a.createElement.apply(null,t)}s.displayName="MDXCreateElement"},57:function(e,n,t){"use strict";var r=t(0),i=t.n(r),a=t(6),u=t.n(a),o=function(e){var n=e.of;return i.a.createElement("div",{className:"callout is-warning"},"Work in Progress."," ",i.a.createElement("strong",null,n)," ","is not implemented yet.")};o.propTypes={of:u.a.string},o.defaultProps={of:"This"};var c=function(e){var n=e.of;return i.a.createElement("div",{className:"callout is-warning"},"Work in Progress."," ",i.a.createElement("strong",null,"@formiz/",n)," ","is not published on NPM yet.")};c.propTypes={of:u.a.string},c.defaultProps={of:"core"};var f=function(){return i.a.createElement("div",{className:"callout is-warning"},"This section is a work in progress.")};t.d(n,"a",function(){return o}),t.d(n,"b",function(){return c}),t.d(n,"c",function(){return f})},61:function(e,n,t){"use strict";var r=t(0),i=t.n(r),a=t(6),u=t.n(a);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var f=function(e,n){return(n||[]).filter(function(n){return n.step===e})},s=function(e){return(e||[]).filter(function(e){return e.isActive}).reduce(function(e,n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(t,!0).forEach(function(n){c(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,c({},n.name,n.value))},{})},l=function(e,n){var t=function(e,n){return(n||[]).find(function(n){return n.name===e})}(e,n);return t&&t.validations?t.validations.map(function(e){return e.rule&&!e.rule(t.value,s(n))?e.message:"___FIELD_IS_VALID___"}).filter(function(e){return"___FIELD_IS_VALID___"!==e}):[]},p=function(e,n){return(n||[]).find(function(n){return n.name===e})||{}},d=function(e){return e.navigatedStepName||e.initialStepName},m=function(e,n){return(n||[]).findIndex(function(n){return n.name===e})||0},v=function(e){return(e||[]).sort(function(e,n){return e.order-n.order})};function b(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(t,!0).forEach(function(n){O(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var h={isValid:!0,isSubmitted:!1,initialStepName:null,navigatedStepName:null,steps:[],fields:[]},S=function(){return function(e){var n=(e.fields||[]).map(function(n){return g({},n,{errors:l(n.name,e.fields)})}),t=n.every(function(e){return!e.errors.length}),r=d(e),i=p(r,e.steps),a=(e.steps||[]).map(function(e){return g({},e,{isValid:f(e.name,n).every(function(e){return!e.errors.length})})}),u=(a.find(function(e){return e.name===i.name})||{}).isValid;return g({},e,{fields:n,steps:a,isValid:t,isStepValid:void 0===u||u})}},j=function(e){return function(n){var t=(n.steps||[]).find(function(n){return n.name===e});if(!t||!t.name)return n;var r=g({},n,{navigatedStepName:t.name});return r=S()(r)}},w=function(e){return function(n){var t=(n.steps||[])[e]||{};return j(t.name)(n)}};function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var P=i.a.createContext(),V=function(){return Object(r.useContext)(P)},T=function(e){var n=e.children,t=e.onStateChange,a=Object(r.useRef)(h),u=Object(r.useRef)(!1),o=Object(r.useRef)(null),c=E(Object(r.useState)(a.current),2),f=c[0],s=c[1];Object(r.useEffect)(function(){return u.current=!0,function(){u.current=!1}},[]);var l=Object(r.useCallback)(function(e){a.current=e(a.current),clearTimeout(o.current),o.current=setTimeout(function(){u.current&&s(a.current)})},[a,o,s]);return Object(r.useEffect)(function(){t(a.current)},[a.current]),i.a.createElement(P.Provider,{value:{state:f,dispatch:l}},n)};T.propTypes={children:u.a.node.isRequired,onStateChange:u.a.func},T.defaultProps={onStateChange:function(){}};var N={children:u.a.node,autoForm:u.a.bool,onSubmit:u.a.func,onValidSubmit:u.a.func,onInvalidSubmit:u.a.func,onValid:u.a.func,onInvalid:u.a.func,onChange:u.a.func,connect:u.a.func},A={children:"",autoForm:!1,onSubmit:function(){},onValidSubmit:function(){},onInvalidSubmit:function(){},onValid:function(){},onInvalid:function(){},onChange:function(){},connect:function(){}},x=function(e){var n=e.children,t=e.autoForm,a=e.onSubmit,u=e.onValidSubmit,o=e.onInvalidSubmit,c=e.onValid,f=e.onInvalid,l=e.onChange,v=e.connect,b=V(),y=b.state,O=b.dispatch,h=y.fields,S=y.isValid,E=y.isSubmitted,P=y.isStepValid,T=y.steps,N=Object(r.useMemo)(function(){return s(h)},[h]),A=(T||[]).length,x=d(y),I=p(x,T),C=m(x,T);l(N),S?c():f();var D=Object(r.useCallback)(function(e){e&&e.preventDefault(),a(N),S?u(N):o(N),O(function(e){return g({},e,{isSubmitted:!0})})},[N,JSON.stringify(a)]);return Object(r.useEffect)(function(){v({submit:D,isValid:S,isSubmitted:E,values:N,currentStep:I,steps:(T||[]).map(function(e){return{name:e.name,isValid:e.isValid,isVisited:e.isVisited}}),isStepValid:P,isFirstStep:0===C,isLastStep:C===A-1,nextStep:function(){O(function(e){var n=e.steps,t=(n||[]).length,r=d(e),i=m(r,n),a=t>0?i+1:0;return w(a=a>t-1?i:a)(e)})},prevStep:function(){O(function(e){var n=e.steps,t=d(e),r=m(t,n)-1;return w(r=r<0?0:r)(e)})},goToStep:function(e){O(j(e))}})},[O,D,S,E,JSON.stringify(I),JSON.stringify(T),P,C,A]),t?i.a.createElement("form",{onSubmit:D},n):n};x.propTypes=N,x.defaultProps=A;var I=new Error("A <FormizStep> always needs a `name` attribute."),C={children:u.a.oneOfType([u.a.node,u.a.func]),name:u.a.string.isRequired,order:u.a.number},D={children:"",order:0},F=function(e){var n=e.children,t=e.name,a=e.order;if(!t)throw I;var u=V(),o=u.state,c=u.dispatch,f=d(o),s=p(f,o.steps),l=f===t;return s.name&&!s.isVisited&&l&&c(function(e){return function(n){var t=n.steps.find(function(n){return n.name===e})||{},r=n.steps.filter(function(n){return n.name!==e}),i=v([].concat(b(r),[g({},t,{isVisited:!0})]));return g({},n,{steps:i})}}(f)),Object(r.useEffect)(function(){return c(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){var r=t.steps.find(function(n){return n.name===e})||{},i=t.steps.filter(function(n){return n.name!==e}),a=v([].concat(b(i),[g({},r,{name:e,order:n,isValid:!0,isVisited:!1})])),u=g({},t,{steps:a,initialStepName:a.length?a[0].name:null});return u=S()(u)}}(t,a)),function(){c(function(e){return function(n){var t=n.steps.filter(function(n){return n.name!==e}),r=g({},n,{steps:v(t)});return r=S()(r)}}(t))}},[t,a]),"function"==typeof n?n({isActive:l}):i.a.createElement("div",{style:{display:l?null:"none",pointerEvents:l?null:"none"}},n)};F.propTypes=C,F.defaultProps=D;var _=i.a.createContext(),k=function(e){var n=e.children,t=e.name;return i.a.createElement(_.Provider,{value:t},n)};k.propTypes={children:u.a.node.isRequired,name:u.a.string},k.defaultProps={name:null};var R=new Error("A Formiz field always needs to be in a `<Formiz>` component."),M=new Error("A Formiz field always needs a `name` attribute.");function L(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var q=function(e){return e||""===e?{rule:function(e){return!!e},message:!0!==e?e:""}:{}},J=function(e){var n=e.name,t=e.defaultValue,i=e.validations,a=void 0===i?[]:i,u=e.isRequired,o=e.keepValue;if(!n)throw M;var c=V(),f=Object(r.useContext)(_);if(!c)throw R;var s=c.state,l=c.dispatch;Object(r.useEffect)(function(){console.log("Render useField")}),Object(r.useEffect)(function(){return l(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.value,r=void 0===t?null:t,i=n.step,a=void 0===i?null:i,u=n.validations,o=void 0===u?[]:u;return function(n){var t=n.fields.find(function(n){return n.name===e})||{},i=n.fields.filter(function(n){return n.name!==e}),u=[].concat(b(i),[g({},t,{name:e,value:t.value||r,isActive:!0,isPristine:!0,step:a,validations:o,errors:[]})]),c=g({},n,{fields:u});return c=S()(c)}}(n,{value:t,step:f,validations:a})),function(){l(function(e,n){return function(t){var r=t.fields.find(function(n){return n.name===e});if(!r)return t;var i=t.fields.filter(function(n){return n.name!==e}),a=n?[].concat(b(i),[g({},r,{isActive:!1})]):i,u=g({},t,{fields:a});return u=S()(u)}}(n,o))}},[n,f]),Object(r.useEffect)(function(){var e=[q(u)];l(function(e,n){return function(t){var r=t.fields.find(function(n){return n.name===e});if(!r)return t;var i=t.fields.filter(function(n){return n.name!==e}),a=[].concat(b(i),[g({},r,{validations:n})]),u=g({},t,{fields:a});return u=S()(u)}}(n,[].concat(e,L(a))))},[n,JSON.stringify(a),JSON.stringify(u)]);var p=s.fields.find(function(e){return e.name===n}),d=p?(p.errors||[]).filter(function(e){return!!e}):[];return{value:p?p.value:null,errorMessages:d,errorMessage:d[0],isValid:!p||!p.errors.length,isPristine:!p||p.isPristine,setValue:function(e){l(function(e,n){return function(t){var r=t.fields.find(function(n){return n.name===e});if(!r)return t;var i=t.fields.filter(function(n){return n.name!==e}),a=[].concat(b(i),[g({},r,{value:n,isPristine:!1})]),u=g({},t,{fields:a});return u=S()(u)}}(n,e))}}};function z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var W=function(){var e,n,t=z(Object(r.useState)({submit:function(){},isValid:!0,isSubmitted:!1,values:{},currentStep:{},steps:[],isStepValid:!0,isFirstStep:!0,isLastStep:!0,nextStep:function(){},prevStep:function(){},goToStep:function(){}}),2),i=t[0],a=t[1],u=(e=i,n=Object(r.useRef)(),Object(r.useEffect)(function(){n.current=e},[e]),n.current);return[i,function(e){e!==u&&a(e)}]};function X(){return(X=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function B(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}t.d(n,"a",function(){return G}),t.d(n,"b",function(){return J}),t.d(n,"c",function(){return W});var G=function(e){return i.a.createElement(T,null,i.a.createElement(x,e))};G.propTypes=N,G.defaultProps=A;var H=function(e){var n=e.name,t=e.order,r=B(e,["name","order"]);return i.a.createElement(k,{name:n},i.a.createElement(F,X({},r,{name:n,order:t})))};H.propTypes=C,H.defaultProps=D},63:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var r=t(0),i=t.n(r),a=t(61),u=function(e){var n=Object(a.b)(e),t=n.value,r=n.setValue,u=n.errorMessage,o=n.isValid,c=e.label;return i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,c),i.a.createElement("input",{type:"text",className:"form-control ".concat(o?"":"is-invalid"),defaultValue:t,onChange:function(e){return r(e.target.value)}}),!o&&i.a.createElement("div",{className:"invalid-feedback"},u))}},65:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(0),i=t.n(r),a=t(61),u=t(63);function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function(){var e=o(Object(a.c)(),2),n=e[0],t=e[1];return i.a.createElement(a.a,{onValidSubmit:function(e){console.log(e)},connect:t},i.a.createElement("form",{onSubmit:n.submit},i.a.createElement(u.a,{name:"firstName",label:"First Name",isRequired:"First Name is required"}),i.a.createElement(u.a,{name:"lastName",label:"Last Name",isRequired:!0}),i.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:!n.isValid},"Submit")))}}}]);