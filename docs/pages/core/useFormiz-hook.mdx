---
menu: Core
name: useFormiz() hook
---

# `useFormiz()` hook

## Concept

When using the `useFormiz` hook, you need to pass your component `props` to the hook.

Then the hook give you access to the field state.

```jsx
import React from 'react'
import { useFormiz } from '@formiz/core'

const MyField = (props) => {
  const {
    value,
    setValue,
    isValid,
    isPristine,
    isFormSubmitted,
    isStepSubmitted,
    invalidMessage,
    invalidMessages,
  } = useFormiz(props)

  return (
    ...
  )
}
```

You can also be more verbose and only pass the 5 required props to the hook (`name`, `defaultValue`, `isRequired`, `validations` and `onChange`).

```jsx
import React from 'react'
import { useFormiz } from '@formiz/core'

const MyField = ({ name, defaultValue, isRequired, validations, onChange }) => {
  const {
    ...
  } = useFormiz({ name, defaultValue, isRequired, validations, onChange })

  return (
    ...
  )
}
```

---

## Hook values

The `useFormiz` return an object with the following properties:

### `value`

// TODO

### `setValue()`

// TODO

### `isValid`

// TODO

### `isPristine`

// TODO

### `isFormSubmitted`

// TODO

### `isStepSubmitted`

// TODO

### `invalidMessage`

// TODO

### `invalidMessages`

// TODO

---

## Field props

When a component is created with the `useFormiz()` hook,
you can pass the following props to the component.

### `name` [required]

The name is required to register the field in the form.

```jsx
<Field name="myFieldName" />
```

```js
// Form values
{
  myFieldName: 'value'
}
```

You can also use dot notation. This will result in a nested object in the form values.

```jsx
<Field name="myGroup.myFieldName" />
```

```js
// Form values
{
  myGroup: {
    myFieldName: 'value'
  }
}
```

### `defaultValue`

Pass an initial value to the field.

```jsx
<Field name="myFieldName" defaultValue="My initial value" />
```

### `isRequired`

Shortcut to enable `isRequired` validation.

```jsx
<Field name="myFieldName" isRequired />
<Field name="myFieldName2" isRequired="Field is Required" />
```

### `validations`

An array of object with:
- `rule(fieldValue, formValues)`: Built in validation rule or custom validation function (must return `true` if the rule is valid).
- `invalidMessage`: The message if rule is invalid.

```jsx
<Field
  name="myFieldName"
  validations={[
    {
      rule: isRequired,
      invalidMessage: 'Field is required',
    },
    {
      rule: isNotEmptyString,
      invalidMessage: 'Field can\'t be empty',
    },
    {
      rule: (value, values) => value.toLowerCase() !== 'john',
      invalidMessage: 'Field can\'t be john',
    },
  ]}
/>
```
### `onChange(value, values)`

// TODO


---

## Example

### Create your custom field

```jsx
// MyField.js
import React from 'react'
import { useFormiz } from '@formiz/core'

const MyField = (props) => {
  const { value, setValue, invalidMessage, isValid } = useFormiz(props)
  const { customProperty }Â = props;

  return (
    <div>
      <input type="text" value={value} onChange={(e) => setValue(e.target.value)} >
      <strong>{ customProperty }</strong>
      {!isValid && (
        <p>{ invalidMessage }</p>
      )}
    </div>
  )
}
```

### Use your custom field

```jsx
import React from 'react'
import { Formiz } from '@formiz/core'
import { MyField } from './MyField'

export const MyForm = () => {
  const submitForm = (values) => {
    console.log(values); // { myCustomField: 'value' }
  }

  return (
    <Formiz onValidSubmit={submitForm} >
      <MyField
        name="myCustomField"
        customProperty="Custom Field"
        isRequired="Custom Field is required"
      />
      <button type="submit">
        Submit
      </button>
    </Formiz>
  )
}
```